(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[15],{Aay4:function(e,t,a){"use strict";var r=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("5NDa");var o=r(a("5rEg")),d=r(a("jehZ"));a("+L6B");var n=r(a("2/Rp"));a("+BJd");var u=r(a("mr32"));a("2qtc");var c=r(a("kLXV")),s=r(a("p0pE"));a("y8nQ");var m=r(a("Vl3Y"));a("Znn+");var i=r(a("ZTPi"));a("OaEy");var p,f,g,h,v=r(a("2fM7")),b=l(a("q1tI")),E=a("MuoO"),y=r(a("qCJ4")),A=r(a("QDog")),_=r(a("npAr")),C=r(a("mWxT")),D=(r(a("H2/I")),v.default.Option),k=(v.default.OptGroup,{labelCol:{span:5},wrapperCol:{span:19}}),G=(i.default.TabPane,p=(0,E.connect)(e=>{e.user;var t=e.global,a=e.loading;return{groups:t.groups,createAppByCodeLoading:a.effects["createApp/createAppByCode"],rainbondInfo:t.rainbondInfo}},null,null,{withRef:!0}),f=m.default.create(),p(g=f((h=class extends b.PureComponent{constructor(e){super(e),this.onAddGroup=(()=>{this.setState({addGroup:!0})}),this.cancelAddGroup=(()=>{this.setState({addGroup:!1})}),this.handleSubmit=(e=>{e.preventDefault();var t=this.props.form;t.validateFields((e,t)=>{e||this.props.onSubmit&&this.props.onSubmit(t)})}),this.handleAddGroup=(e=>{var t=this.props.form.setFieldsValue;this.props.dispatch({type:"application/addGroup",payload:(0,s.default)({team_name:A.default.getCurrTeamName()},e),callback:e=>{e&&this.props.dispatch({type:"global/fetchGroups",payload:{team_name:A.default.getCurrTeamName(),region_name:A.default.getCurrRegionName()},callback:()=>{t({group_id:e.group_id}),this.cancelAddGroup()}})}})}),this.fetchGroup=(()=>{this.props.dispatch({type:"global/fetchGroups",payload:{team_name:A.default.getCurrTeamName()}})}),this.handleOpenDemo=(()=>{c.default.warning({title:"\u67e5\u770bDmeo\u6e90\u7801",content:b.default.createElement("div",null,b.default.createElement(u.default,{color:"magenta",style:{marginBottom:"10px"}},b.default.createElement("a",{target:"_blank",style:{color:"#EA2E96"},href:"".concat(_.default.documentAddress,"demo-2048.git")},"2048\u5c0f\u6e38\u620f")),b.default.createElement(u.default,{color:"green",style:{marginBottom:"10px"}},b.default.createElement("a",{target:"_blank",style:{color:"#74CC49"},href:"".concat(_.default.documentAddress,"static-demo.git")},"\u9759\u6001Web\uff1ahello world !")),b.default.createElement(u.default,{color:"volcano",style:{marginBottom:"10px"}},b.default.createElement("a",{target:"_blank",style:{color:"#FA541B"},href:"".concat(_.default.documentAddress,"php-demo.git")},"PHP Demo")),b.default.createElement(u.default,{color:"blue",style:{marginBottom:"10px"}},b.default.createElement("a",{target:"_blank",style:{color:"#1990FF"},href:"".concat(_.default.documentAddress,"python-demo.git")},"Python Demo")),b.default.createElement(u.default,{color:"orange",style:{marginBottom:"10px"}},b.default.createElement("a",{target:"_blank",style:{color:"#FA8E14"},href:"".concat(_.default.documentAddress,"nodejs-demo.git")},"Node.js Demo")),b.default.createElement(u.default,{color:"gold",style:{marginBottom:"10px"}},b.default.createElement("a",{target:"_blank",style:{color:"#FCAD15"},href:"".concat(_.default.documentAddress,"go-demo.git")},"Golang Demo")),b.default.createElement(u.default,{color:"lime",style:{marginBottom:"10px"}},b.default.createElement("a",{target:"_blank",style:{color:"#A0D912"},href:"".concat(_.default.documentAddress,"java-maven-demo.git")},"Java-Maven Demo")),b.default.createElement(u.default,{color:"geekblue",style:{marginBottom:"10px"}},b.default.createElement("a",{target:"_blank",style:{color:"#3054EB"},href:"".concat(_.default.documentAddress,"java-jar-demo.git")},"Java-Jar Demo")),b.default.createElement(u.default,{color:"purple",style:{marginBottom:"10px"}},b.default.createElement("a",{target:"_blank",style:{color:"#722DD1"},href:"".concat(_.default.documentAddress,"java-war-demo.git")},"Java-War Demo")),b.default.createElement(u.default,{color:"volcano",style:{marginBottom:"10px"}},b.default.createElement("a",{target:"_blank",style:{color:"#FA541B"},href:"".concat(_.default.documentAddress,"java-gradle-demo.git")},"Java-Gradle Demo")),b.default.createElement(u.default,{color:"gold",style:{marginBottom:"10px"}},b.default.createElement("a",{target:"_blank",style:{color:"#FCAD15"},href:"".concat(_.default.documentAddress,"dotnet-demo.git")},".NetCore Demo")))})}),this.handleChangeDemo=(e=>{this.setState({demoHref:e})}),this.state={addGroup:!1,demoHref:this.props.data.git_url||_.default.documentAddressDefault}}render(){var e=this.props.form,t=e.getFieldDecorator,a=(e.getFieldValue,this.props),r=a.groups,l=a.createAppByCodeLoading,u=a.rainbondInfo,c=this.props.data||{};return b.default.createElement(m.default,{layout:"horizontal",hideRequiredMark:!0},b.default.createElement(m.default.Item,(0,d.default)({},k,{label:"\u5e94\u7528\u540d\u79f0"}),t("group_id",{initialValue:c.groupd_id?c.groupd_id:void 0,rules:[{required:!0,message:"\u8bf7\u9009\u62e9"}]})(b.default.createElement(v.default,{placeholder:"\u8bf7\u9009\u62e9\u8981\u6240\u5c5e\u5e94\u7528",style:{display:"inline-block",width:292,marginRight:15}},(r||[]).map(e=>b.default.createElement(D,{key:e.group_id,value:e.group_id},e.group_name)))),b.default.createElement(n.default,{onClick:this.onAddGroup},"\u65b0\u5efa\u5e94\u7528")),b.default.createElement(m.default.Item,(0,d.default)({},k,{label:"\u7ec4\u4ef6\u540d\u79f0"}),t("service_cname",{initialValue:c.service_cname||"",rules:[{required:!0,message:"\u8981\u521b\u5efa\u7684\u7ec4\u4ef6\u8fd8\u6ca1\u6709\u540d\u5b57"}]})(b.default.createElement(o.default,{style:{width:292},placeholder:"\u8bf7\u4e3a\u521b\u5efa\u7684\u7ec4\u4ef6\u8d77\u4e2a\u540d\u5b57\u5427"}))),b.default.createElement(m.default.Item,(0,d.default)({},k,{label:b.default.createElement("span",null,"Demo")}),t("git_url",{initialValue:c.git_url||_.default.documentAddressDefault,rules:[{required:!0,message:"\u8bf7\u9009\u62e9"}]})(b.default.createElement(v.default,{style:{display:"inline-block",width:292,marginRight:15},onChange:this.handleChangeDemo},b.default.createElement(D,{value:"".concat(_.default.documentAddress,"demo-2048.git")},"2048\u5c0f\u6e38\u620f"),b.default.createElement(D,{value:"".concat(_.default.documentAddress,"static-demo.git")},"\u9759\u6001Web\uff1ahello world !"),b.default.createElement(D,{value:"".concat(_.default.documentAddress,"php-demo.git")},"PHP Demo"),b.default.createElement(D,{value:"".concat(_.default.documentAddress,"python-demo.git")},"Python Demo"),b.default.createElement(D,{value:"".concat(_.default.documentAddress,"nodejs-demo.git")},"Node.js Demo"),b.default.createElement(D,{value:"".concat(_.default.documentAddress,"go-demo.git")},"Golang Demo"),b.default.createElement(D,{value:"".concat(_.default.documentAddress,"java-maven-demo.git")},"Java-Maven Demo"),b.default.createElement(D,{value:"".concat(_.default.documentAddress,"java-jar-demo.git")},"Java-Jar Demo"),b.default.createElement(D,{value:"".concat(_.default.documentAddress,"java-war-demo.git")},"Java-war Demo"),b.default.createElement(D,{value:"".concat(_.default.documentAddress,"java-gradle-demo.git")},"Java-gradle Demo"),b.default.createElement(D,{value:"".concat(_.default.documentAddress,"dotnet-demo.git")},".NetCore Demo"))),this.state.demoHref&&C.default.documentEnable(u)&&b.default.createElement("a",{target:"_blank",href:this.state.demoHref},"\u67e5\u770b\u6e90\u7801")),b.default.createElement(m.default.Item,{wrapperCol:{xs:{span:24,offset:0},sm:{span:k.wrapperCol.span,offset:k.labelCol.span}},label:""},b.default.createElement(n.default,{onClick:this.handleSubmit,type:"primary",loading:l},"\u786e\u8ba4\u521b\u5efa")),this.state.addGroup&&b.default.createElement(y.default,{onCancel:this.cancelAddGroup,onOk:this.handleAddGroup}))}},g=h))||g)||g);t.default=G},CgHS:function(e,t,a){"use strict";var r=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,d,n,u=r(a("jehZ")),c=a("MuoO"),s=a("7DNP"),m=l(a("q1tI")),i=r(a("I3bc")),p=r(a("XZXw")),f=a("vSx2"),g=r(a("QDog")),h=r(a("tH/r")),v=r(a("mWxT")),b=r(a("hMqj")),E=r(a("9Y44")),y=r(a("KLZ5")),A=(o=(0,c.connect)(e=>{var t=e.teamControl,a=e.global,r=e.enterprise;return{rainbondInfo:a.rainbondInfo,currentTeam:t.currentTeam,currentRegionName:t.currentRegionName,currentEnterprise:r.currentEnterprise,enterprise:a.enterprise,currentTeamPermissionsInfo:t.currentTeamPermissionsInfo}},null,null,{pure:!1}),o((n=class extends m.PureComponent{constructor(){super(...arguments),this.handleTabChange=(e=>{var t=this.props.dispatch;t(s.routerRedux.push("/team/".concat(g.default.getCurrTeamName(),"/region/").concat(g.default.getCurrRegionName(),"/create/code/").concat(e)))})}componentWillMount(){var e=this.props,t=e.currentTeamPermissionsInfo,a=e.dispatch;b.default.canCreateComponent(t,a)}render(){var e=this.props,t=e.rainbondInfo,a=e.enterprise,r=e.match,l=e.currentEnterprise,o=e.currentTeam,d=e.currentRegionName,n={custom:E.default,demo:y.default},c=[{key:"custom",tab:"\u81ea\u5b9a\u4e49\u6e90\u7801"}];v.default.officialDemoEnable(t)&&c.push({key:"demo",tab:"\u5b98\u65b9DEMO"});var s=h.default.getEnableGitOauthServer(a);s&&s.length>0&&s.map(e=>{var t=e.name,a=e.service_id,r=e.oauth_type,l="".concat(t,"\u9879\u76ee");return"github"===r?l="Github\u9879\u76ee":"gitlab"===r?l="Gitlab\u9879\u76ee":"gitee"===r&&(l="Gitee\u9879\u76ee"),n[a]=i.default,c.push({key:a,types:r,tab:l}),c});var g=r.params.type;g||(g="custom");var b=n[g],A=[];return A=(0,f.createTeam)((0,f.createEnterprise)(A,l),o,d),A.push({title:"\u521b\u5efa\u7ec4\u4ef6"}),m.default.createElement(p.default,{breadcrumbList:A,title:"\u7531\u6e90\u7801\u521b\u5efa\u7ec4\u4ef6",onTabChange:this.handleTabChange,content:m.default.createElement("p",null," \u4ece\u6307\u5b9a\u6e90\u7801\u4ed3\u5e93\u4e2d\u83b7\u53d6\u6e90\u7801\uff0c\u57fa\u4e8e\u6e90\u7801\u4fe1\u606f\u521b\u5efa\u65b0\u7ec4\u4ef6 "),tabActiveKey:g,tabList:c},b?m.default.createElement(b,(0,u.default)({},this.props,{type:this.props.match.params.type,tabList:c})):"\u53c2\u6570\u9519\u8bef")}},d=n))||d);t.default=A},"H2/I":function(e,t,a){e.exports={selectTabs:"selectTabs___1bsTG"}},KLZ5:function(e,t,a){"use strict";var r=a("g09b"),l=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var o=r(a("bx4M")),d=r(a("p0pE"));a("y8nQ");var n,u,c,s,m=r(a("Vl3Y")),i=a("MuoO"),p=a("7DNP"),f=l(a("q1tI")),g=r(a("Aay4")),h=r(a("/BFj")),v=r(a("QDog")),b=r(a("51sS")),E=(n=(0,i.connect)(e=>{var t=e.user,a=e.global;return{currUser:t.currentUser,groups:a.groups}}),u=m.default.create(),n(c=u((s=class extends f.PureComponent{constructor(e){super(e),this.fetchGroup=(()=>{this.props.dispatch({type:"global/fetchGroups",payload:{team_name:v.default.getCurrTeamName()}})}),this.handleSubmit=(e=>{var t=v.default.getCurrTeamName();this.props.dispatch({type:"createApp/createAppByCode",payload:(0,d.default)({team_name:t,code_from:"gitlab_demo"},e),callback:e=>{var t=e&&e.bean.service_alias;this.props.dispatch(p.routerRedux.push("/team/".concat(v.default.getCurrTeamName(),"/region/").concat(v.default.getCurrRegionName(),"/create/create-check/").concat(t)))}})}),this.state={}}render(){var e=decodeURIComponent(this.props.match.params.code||"");return f.default.createElement(o.default,null,f.default.createElement(h.default,null),f.default.createElement("div",{className:b.default.formWrap,style:{width:this.props.handleType&&"Service"===this.props.handleType?"auto":"500px"}},f.default.createElement(g.default,{data:{git_url:e||""},onSubmit:this.handleSubmit})))}},c=s))||c)||c);t.default=E}}]);