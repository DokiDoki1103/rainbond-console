(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"5ov5":function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var r=l(a("kLXV"));a("14J3");var n=l(a("BMrR"));a("RC8p");var i=l(a("rgW5"));a("+L6B");var d,u,c,o=l(a("2/Rp")),f=a("MuoO"),p=s(a("q1tI")),m=l(a("AklW")),h=l(a("e6Ls")),E=l(a("w58A")),g=(d=(0,f.connect)(),d((c=class extends p.PureComponent{constructor(e){super(e),this.loadTask=(()=>{var e=this.props,t=e.dispatch,a=e.eid,l=e.taskID;t({type:"cloud/loadTask",payload:{enterprise_id:a,taskID:l},callback:e=>{e&&this.setState({task:e,complete:"complete"==e.status})},handleError:e=>{m.default.handleCloudAPIError(e),this.setState({loading:!1})}})}),this.loadTaskEvents=(()=>{var e=this.props,t=e.dispatch,a=e.eid,l=e.taskID;t({type:"cloud/loadTaskEvents",payload:{enterprise_id:a,taskID:l},callback:e=>{if(e){var t=m.default.showCreateKubernetesSteps(e.events),a=t.complete,l=t.steps;this.setState({complete:a,loading:!1,steps:l}),null==this.interval&&(this.interval=setInterval(()=>this.loadTaskEvents(),2e3)),a&&null!=this.interval&&(clearInterval(this.interval),this.interval=null)}},handleError:e=>{m.default.handleCloudAPIError(e),this.setState({loading:!1})}})}),this.state={loading:!0,complete:!1,steps:[]}}componentDidMount(){this.loadTask(),this.loadTaskEvents()}componentWillUnmount(){clearInterval(this.interval),this.interval=null}render(){var e=this.props,t=e.onCancel,a=e.title,l=this.state,s=l.steps,d=l.loading,u=l.complete,c="\u8fdb\u884c\u4e2d";return u&&(c=!1),p.default.createElement(r.default,{title:a||"\u96c6\u7fa4\u8d2d\u4e70\u8fdb\u5ea6",visible:!0,width:600,onCancel:t,maskClosable:!1,className:h.default.TelescopicModal,footer:[p.default.createElement(o.default,{type:"primary",onClick:t},"\u5173\u95ed")]},p.default.createElement(n.default,{loading:d,className:E.default.box},p.default.createElement(i.default,{loading:d,pending:c},s.map((e,t)=>{return p.default.createElement(i.default.Item,{color:e.Color,key:"step".concat(t)},p.default.createElement("h4",null,e.Title),p.default.createElement("p",null,e.Description),p.default.createElement("p",null,e.Message))})),u&&p.default.createElement("span",null,"\u5df2\u7ed3\u675f")))}},u=c))||u),v=g;t.default=v},IWTo:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var r=l(a("kLXV"));a("R9oj");var n=l(a("ECub"));a("IzEo");var i=l(a("bx4M"));a("14J3");var d=l(a("BMrR"));a("/zsF");var u=l(a("PArb"));a("fOrg");var c=l(a("+KLJ"));a("5NDa");var o=l(a("5rEg"));a("jCWc");var f=l(a("kPKH"));a("g9YV");var p=l(a("wCAj"));a("+L6B");var m=l(a("2/Rp"));a("y8nQ");var h=l(a("Vl3Y"));a("tU7J");var E=l(a("wFql"));a("FJo9");var g,v,k,y,C=l(a("L41K")),b=a("MuoO"),I=a("7DNP"),_=s(a("q1tI")),w=l(a("sQyZ")),S=l(a("sYrh")),D=l(a("LjLi")),A=l(a("Jq4M")),x=l(a("Zw3B")),T=l(a("aMNY")),R=l(a("XZXw")),P=l(a("AklW")),M=l(a("mWxT")),N=l(a("+iC2")),K=l(a("nfvM")),L=C.default.Step,B=E.default.Paragraph,F=(g=h.default.create(),v=(0,b.connect)(e=>{var t=e.user,a=e.list,l=e.loading,s=e.global,r=e.index;return{user:t.currentUser,list:a,loading:l.models.list,rainbondInfo:s.rainbondInfo,enterprise:s.enterprise,isRegist:s.isRegist,oauthLongin:l.effects["global/creatOauth"],overviewInfo:r.overviewInfo}}),g(k=v((y=class extends _.PureComponent{constructor(e){super(e),this.getAccessKey=(()=>{var e=this.props.dispatch,t=this.state.selectProvider,a=this.props.match.params.eid;e({type:"cloud/getAccessKey",payload:{enterprise_id:a,provider_name:t},callback:e=>{this.setState({providerAccess:e})}})}),this.setProvider=(e=>{this.setState({selectProvider:e})}),this.setAccessKey=(()=>{var e=this.props,t=e.form,a=e.dispatch,l=this.props.match.params.eid,s=this.state.selectProvider;t.validateFields((e,t)=>{e||(this.setState({loading:!0}),a({type:"cloud/setAccessKey",payload:{enterprise_id:l,provider_name:s,access_key:t.access_key,secret_key:t.secret_key},callback:e=>{e&&this.loadKubernetesCluster()}}))})}),this.startInit=(e=>{this.setState({selectClusterID:e,currentStep:2})}),this.loadRunningInitTasks=(()=>{var e=this.props.dispatch,t=this.props.match.params.eid;e({type:"cloud/loadRunningInitRainbondTasks",payload:{enterprise_id:t},callback:e=>{e&&this.setState({runningInitTasks:e.tasks})},handleError:e=>{P.default.handleCloudAPIError(e),this.setState({loading:!1})}})}),this.loadKubernetesCluster=(()=>{var e=this.props.dispatch,t=this.props.match.params.eid,a=this.state.selectProvider;e({type:"cloud/loadKubereneteClusters",payload:{enterprise_id:t,provider_name:a},callback:e=>{e?this.setState({k8sClusters:e.clusters,currentStep:1,loading:!1,showBuyClusterConfig:!1}):this.setState({loading:!1})},handleError:e=>{P.default.handleCloudAPIError(e),this.setState({loading:!1})}})}),this.showBuyClusterConfig=(()=>{this.setState({showBuyClusterConfig:!0})}),this.cancelAddCluster=(()=>{this.setState({addClusterShow:!1})}),this.addClusterShow=(()=>{this.setState({addClusterShow:!0,text:"\u6dfb\u52a0\u96c6\u7fa4"})}),this.addClusterOK=(()=>{var e=this.props.dispatch,t=this.props.match.params.eid;e(I.routerRedux.push("/enterprise/".concat(t,"/clusters")))}),this.preStep=(()=>{var e=this.state.currentStep;this.setState({currentStep:e-1})}),this.loadSteps=(()=>{var e=[{title:"\u9009\u62e9\u4f9b\u5e94\u5546"},{title:"\u9009\u62e9(\u521b\u5efa)Kubernetes\u96c6\u7fa4"},{title:"\u521d\u59cb\u5316Rainbond\u96c6\u7fa4"},{title:"\u5b8c\u6210\u5bf9\u63a5"}];return e}),this.showInitTaskDetail=(e=>{this.setState({showInitTaskDetail:!0,initTask:e})}),this.completeInit=(e=>{this.setState({currentStep:3,selectProvider:e.providerName,selectClusterID:e.clusterID})}),this.cancelShowInitDetail=(()=>{this.loadRunningInitTasks(),this.setState({showInitTaskDetail:!1})}),this.hideInitShow=(()=>{this.setState({initShow:!1})}),this.renderRunningInitTask=(()=>{var e=this.state.runningInitTasks;if(e&&0!=e.length){var t=[];e.map((e,a)=>{e.key="task".concat(a),t.push(e)});var a=[{title:"\u63d0\u4f9b\u5546",dataIndex:"providerName",render:e=>{return P.default.getProviderShowName(e)}},{title:"\u96c6\u7fa4ID",dataIndex:"clusterID"},{title:"\u72b6\u6001",dataIndex:"status",render:e=>{return P.default.getTaskStatus(e)}},{title:"\u64cd\u4f5c",key:"method",dataIndex:"",render:(e,t)=>{return _.default.createElement("div",null,_.default.createElement(m.default,{type:"link",onClick:()=>{this.showInitTaskDetail(t)}},"\u67e5\u770b\u8fdb\u5ea6"),"inited"==t.status&&_.default.createElement(m.default,{type:"link",onClick:()=>{this.completeInit(t)}},"\u5b8c\u6210\u5bf9\u63a5"))}}];return _.default.createElement(p.default,{pagination:!1,columns:a,dataSource:t})}}),this.renderAliyunAcountSetting=(()=>{var e=this.state.providerAccess,t=this.props.form.getFieldDecorator,a={labelCol:{xs:{span:24},sm:{span:24}},wrapperCol:{xs:{span:24},sm:{span:24}},labelAlign:"left"};return _.default.createElement(h.default,a,_.default.createElement(f.default,{span:24},_.default.createElement(B,{className:K.default.describe},_.default.createElement("h5",null,"\u8d26\u53f7\u8bf4\u660e\uff1a"),_.default.createElement("ul",null,_.default.createElement("li",null,_.default.createElement("span",null,"\u5f00\u59cb\u6b64\u6d41\u7a0b\u4e4b\u524d\u4f60\u5fc5\u987b\u786e\u5b9a\u4f60\u7684\u963f\u91cc\u4e91\u8d26\u6237\u662f\u5426\u652f\u6301\u6309\u9700\u8d2d\u4e70\u8d44\u6e90\uff0c\u6bd4\u5982\u8d26\u6237\u4f59\u989d\u5927\u4e8e100\u5143\u5e76\u901a\u8fc7\u5b9e\u540d\u8ba4\u8bc1")),_.default.createElement("li",null,_.default.createElement("span",null,"\u786e\u4fdd\u4ee5\u4e0b\u670d\u52a1\u5df2\u5f00\u901a\u6216\u6388\u6743\u5df2\u6388\u4e88\uff1a",P.default.getAliyunCountDescribe().map(e=>{return _.default.createElement("a",{style:{marginRight:"8px"},href:e.href,target:"_blank"},e.title)}))),_.default.createElement("li",null,_.default.createElement("span",null,"\u63a8\u8350\u5728\u963f\u91cc\u4e91\u63a7\u5236\u53f0\u4f01\u4e1aRAM\u8bbf\u95ee\u63a7\u5236\u9875\u9762\u4e2d\u521b\u5efa\u72ec\u7acb\u7684RAM\u7528\u6237\uff0c\u5e76\u521b\u5efa\u7528\u6237AccessKey")),_.default.createElement("li",null,_.default.createElement("span",null,"\u8bf7\u4e3aRAM\u7528\u6237\u8d4b\u4e88:",_.default.createElement("b",null,"AliyunCSFullAccess"),"\u3001",_.default.createElement("b",null,"AliyunECSFullAccess"),"\u3001",_.default.createElement("b",null,"AliyunVPCFullAccess"),"\u3001",_.default.createElement("b",null,"AliyunRDSFullAccess"),"\u3001",_.default.createElement("b",null,"AliyunNASFullAccess"),"\u3001",_.default.createElement("b",null,"AliyunSLBFullAccess"),"\u6743\u9650")),_.default.createElement("li",null,_.default.createElement("span",null,"\u6211\u4eec\u5c06\u4e25\u683c\u4fdd\u62a4AccessKey\u5b89\u5168\uff0c\u82e5\u4f60\u6709\u5b89\u5168\u987e\u8651\uff0c\u53ef\u4ee5\u5728\u96c6\u7fa4\u5bf9\u63a5\u5b8c\u6210\u540e\u5220\u9664\u8d26\u53f7\u6536\u56de\u6743\u9650")),_.default.createElement("li",null,_.default.createElement("span",null,"\u5982\u679c\u5bf9\u63a5\u5df2\u5b58\u5728\u7684Kubernetes\u96c6\u7fa4\uff0c\u5bf9\u96c6\u7fa4\u5df2\u6709\u4e1a\u52a1\u4e0d\u5f71\u54cd\uff0c\u53e6\u5916\u4f1a\u6309\u9700\u8d2d\u4e70RDS(1\u4e2a)\uff0cNAS(1\u4e2a)\uff0cSLB(1\u4e2a)\uff0c\u9884\u8ba1\u6bcf\u5c0f\u65f6\u8d39\u7528",_.default.createElement("b",null,"0.5"),"\u5143")),_.default.createElement("li",null,_.default.createElement("span",null,"\u5982\u679c\u65b0\u8d2d\u4e70Kubernetes\u96c6\u7fa4\uff0c\u6211\u4eec\u4f1a\u6309\u9700\u521b\u5efa\u8d2d\u4e70Kubernetes\u6258\u7ba1\u96c6\u7fa4(1\u4e2a)\uff0cRDS(1\u4e2a)\uff0cNAS(1\u4e2a)\uff0cSLB(1\u4e2a)\uff0c\u9884\u8ba1\u6bcf\u5c0f\u65f6\u8d39\u7528",_.default.createElement("b",null,"2.5"),"\u5143"))))),_.default.createElement(f.default,{span:8,style:{padding:"16px"}},_.default.createElement(h.default.Item,{name:"access_key",label:"Access Key"},t("access_key",{initialValue:e.access_key||"",rules:[{required:!0,message:"\u8bf7\u63d0\u4f9b\u5177\u6709\u8db3\u591f\u6743\u9650\u7684Access Key"}]})(_.default.createElement(o.default,{placeholder:"Access Key"})))),_.default.createElement(f.default,{span:8,style:{padding:"16px"}},_.default.createElement(h.default.Item,{name:"secret_key",label:"Secret Key"},t("secret_key",{initialValue:e.secret_key||"",rules:[{required:!0,message:"\u8bf7\u63d0\u4f9b\u5177\u6709\u8db3\u591f\u6743\u9650\u7684Secret Key"}]})(_.default.createElement(o.default,{type:"password",placeholder:"Secret Key"})))))});var t=this.props.user,a=N.default.isCompanyAdmin(t);this.state={adminer:a,addClusterShow:!1,showBuyClusterConfig:!1,selectProvider:"ack",currentStep:0,k8sClusters:[],providerAccess:{},loading:!1,initTask:{},initShow:!1,runningInitTasks:[]}}componentWillMount(){var e=this.state.adminer,t=this.props.dispatch,a=this.props.location.query.init;a&&this.setState({initShow:!0}),e||t(I.routerRedux.push("/"))}componentDidMount(){this.getAccessKey(),this.loadRunningInitTasks()}render(){var e=this.state,t=e.addClusterShow,a=e.selectProvider,l=e.selectClusterID,s=e.k8sClusters,o=e.currentStep,p=e.showBuyClusterConfig,h=e.loading,E=e.showInitTaskDetail,g=e.initTask,v=e.runningInitTasks,k=e.initShow,y=this.props.match.params.eid,b=this.renderAliyunAcountSetting(),I=this.renderRunningInitTask(),N=_.default.createElement("svg",{t:"1586145935607",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1861",width:"100",height:"100"},_.default.createElement("path",{d:"M911.36 589.824h-52.736c-14.336 0-26.624 12.288-26.624 26.624v176.128c0 14.336-12.288 26.624-26.624 26.624h-580.608c-14.336 0-26.624-12.288-26.624-26.624v-176.128c0-14.336-12.288-26.624-26.624-26.624h-52.736c-14.336 0-26.624 12.288-26.624 26.624v237.568c0 38.912 31.744 70.656 70.656 70.656h704c38.912 0 70.656-31.744 70.656-70.656v-237.568c0-14.336-12.288-26.624-26.112-26.624z m-413.696 116.224c10.752 10.752 26.624 10.752 36.864 0l237.568-237.568c10.752-10.752 10.752-26.624 0-36.864l-36.864-36.864c-10.752-10.752-26.624-10.752-36.864 0l-98.304 98.304c-10.752 10.752-29.696 3.584-29.696-12.288v-374.784c-1.536-14.336-15.872-26.624-28.16-26.624h-52.736c-14.336 0-26.624 12.288-26.624 26.624v373.248c0 15.872-19.456 23.04-29.696 12.288l-98.304-98.304c-10.752-10.752-26.624-10.752-36.864 0l-36.864 38.912c-10.752 10.752-10.752 26.624 0 36.864l236.544 237.056z",fill:"#1296db","p-id":"1862"})),F=_.default.createElement("svg",{t:"1586161102258",viewBox:"0 0 1293 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5713",width:"32",height:"32"},_.default.createElement("path",{d:"M503.376842 1024a79.764211 79.764211 0 0 1-55.080421-22.096842L24.576 595.698526A79.764211 79.764211 0 0 1 22.096842 483.004632c30.342737-31.797895 80.842105-32.929684 112.478316-2.425264l361.849263 346.812632L1152.431158 29.049263a79.494737 79.494737 0 0 1 112.101053-10.832842c33.953684 27.917474 38.696421 78.201263 10.778947 112.101053L564.816842 994.950737c-14.012632 17.084632-34.708211 27.648-56.697263 28.887579C506.394947 1024 504.778105 1024 503.376842 1024z",fill:"#ffffff","p-id":"5714"})),z=P.default.getProviders(),q=M.default.isEnableK8sCluster()||!1;return _.default.createElement(R.default,{title:"\u6dfb\u52a0\u96c6\u7fa4",content:"\u96c6\u7fa4\u662f\u8d44\u6e90\u7684\u96c6\u5408\uff0c\u4ee5Kubernetes\u96c6\u7fa4\u4e3a\u57fa\u7840\uff0c\u90e8\u7f72Rainbond Region\u670d\u52a1\u5373\u53ef\u6210\u4e3aRainbond\u96c6\u7fa4\u8d44\u6e90\u3002"},q&&_.default.createElement(c.default,{style:{marginBottom:"16px"},message:"\u6b22\u8fce\u60a8\u6210\u4e3aRainbond Cloud\u7528\u6237\uff0c\u5728\u5f00\u59cb\u60a8\u7684\u4e91\u5e94\u7528\u7ba1\u7406\u4e4b\u65c5\u4e4b\u524d\uff0c\u60a8\u9996\u5148\u9700\u8981\u5b8c\u6210\u8d44\u6e90\u7684\u5bf9\u63a5\u51c6\u5907\uff0c\u6211\u4eec\u4e3a\u4f60\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u4e24\u79cd\u65b9\u5f0f\u4f5c\u4e3a\u9009\u62e9\uff0c\u5982\u6709\u4efb\u4f55\u7591\u95ee\uff0c\u8bf7\u4e0e\u6211\u4eec\u8054\u7cfb\uff08\u76f4\u63a5\u8054\u7cfb\u7535\u8bdd: 18501030060\uff09",type:"info",showIcon:!0}),_.default.createElement(i.default,null,_.default.createElement(d.default,null,_.default.createElement("h3",null,"\u6dfb\u52a0\u5df2\u5b89\u88c5\u7684\u96c6\u7fa4"),_.default.createElement(u.default,null),_.default.createElement(f.default,{span:12},_.default.createElement("div",{onClick:this.addClusterShow,className:K.default.import},_.default.createElement("div",{className:K.default.importicon},N),_.default.createElement("div",{className:K.default.importDesc},_.default.createElement("h3",null,"\u5bfc\u5165"),_.default.createElement("p",null,"\u5bfc\u5165\u73b0\u6709\u7684\u96c6\u7fa4\uff0c\u96c6\u7fa4\u7684\u914d\u7f6e\u548c\u7ef4\u62a4\u7531\u7528\u6237\u8d1f\u8d23\u3002")))),_.default.createElement(f.default,{span:12}))),q&&_.default.createElement(i.default,{style:{marginTop:"16px"}},_.default.createElement(d.default,null,_.default.createElement("h3",null,"\u4ece\u4e91\u670d\u52a1\u5546\u6258\u7ba1Kubernetes\u96c6\u7fa4\u5f00\u59cb\u6dfb\u52a0"),_.default.createElement(u.default,null),v&&v.length>0&&0==o&&_.default.createElement(d.default,{style:{marginBottom:"32px",padding:"0 16px"}},_.default.createElement("h4",null,"\u6b63\u5728\u521d\u59cb\u5316\u7684\u96c6\u7fa4"),I),_.default.createElement(C.default,{current:o},this.loadSteps().map(e=>_.default.createElement(L,{key:e.title,title:e.title})))),0==o&&_.default.createElement(d.default,null,_.default.createElement(d.default,{style:{marginTop:"32px"}},z.map(e=>{return _.default.createElement(f.default,{key:e.id,onClick:()=>{e.disable||this.setProvider(e.id)},span:8,style:{padding:"16px"}},_.default.createElement(d.default,{className:[K.default.provider,a===e.id&&K.default.providerActive]},_.default.createElement(f.default,{flex:"100px",className:K.default.providericon},e.icon),_.default.createElement(f.default,{flex:"auto",className:K.default.providerDesc},_.default.createElement("h4",null,e.name),_.default.createElement("p",null,e.describe)),a===e.id&&_.default.createElement("div",{className:K.default.providerChecked},F),e.disable&&_.default.createElement("div",{className:K.default.disable},"\u5373\u5c06\u652f\u6301\uff08\u9700\u8981\u8bf7\u8054\u7cfb\u6211\u4eec\uff09")))})),_.default.createElement(d.default,{style:{marginTop:"32px",padding:"0 16px"}},_.default.createElement("h4",null,"\u8d26\u6237\u8bbe\u7f6e"),b),_.default.createElement(d.default,{justify:"center"},_.default.createElement(f.default,{style:{textAlign:"center"},span:24},_.default.createElement(m.default,{loading:h,onClick:this.setAccessKey,type:"primary"},"\u4e0b\u4e00\u6b65")))),1==o&&!p&&_.default.createElement(d.default,{style:{marginTop:"32px"}},s&&s.length>0&&_.default.createElement("h4",null,"\u9009\u62e9\u5df2\u6709\u96c6\u7fa4"),s&&s.length>0?_.default.createElement(D.default,{eid:y,loadKubernetesCluster:this.loadKubernetesCluster,selectProvider:a,preStep:this.preStep,data:s,startInit:this.startInit,showBuyClusterConfig:this.showBuyClusterConfig}):_.default.createElement(n.default,{description:"\u6682\u65e0\u53ef\u7528\u96c6\u7fa4,\u5982\u679c\u96c6\u7fa4\u786e\u5b9e\u5b58\u5728\uff0c\u8bf7\u786e\u8ba4AccessKey\u662f\u5426\u8d4b\u4e88\u96c6\u7fa4\u7ba1\u7406\u6743\u9650"},_.default.createElement(m.default,{onClick:this.preStep,style:{marginRight:"16px"}},"\u4e0a\u4e00\u6b65"),_.default.createElement(m.default,{type:"primary",onClick:this.showBuyClusterConfig},"\u5e2e\u4f60\u8d2d\u4e70\u4e00\u4e2a"))),1==o&&p&&_.default.createElement(d.default,{style:{marginTop:"32px"}},_.default.createElement("h4",null,"\u8d2d\u4e70\u96c6\u7fa4\u914d\u7f6e"),_.default.createElement(w.default,{eid:y,selectProvider:a,showClusters:this.loadKubernetesCluster})),2==o&&l&&_.default.createElement(d.default,{style:{marginTop:"32px"}},_.default.createElement(A.default,{eid:y,loadRuningTasks:this.loadRunningInitTasks,completeInit:this.completeInit,selectProvider:a,selectClusterID:l,preStep:this.preStep})),3==o&&_.default.createElement(x.default,{eid:y,selectProvider:a,selectClusterID:l})),t&&_.default.createElement(S.default,{eid:y,onOk:this.addClusterOK,onCancel:this.cancelAddCluster}),q&&E&&_.default.createElement(T.default,{onCancel:this.cancelShowInitDetail,eid:y,providerName:a,taskID:g.taskID,clusterID:g.clusterID}),q&&k&&_.default.createElement(r.default,{width:600,centered:!0,maskClosable:!1,footer:!1,wrapClassName:K.default.initModal,onCancel:this.hideInitShow,visible:!0},_.default.createElement("h2",{className:K.default.initTitle},"\u6b22\u8fce\u60a8Rainbond Cloud\u7528\u6237\uff01"),_.default.createElement("p",null,"\u5728\u7ebfCloud\u53ef\u4ee5\u5bf9\u63a5\u548c\u7ba1\u7406\u60a8\u5df2\u6709\u7684\u8ba1\u7b97\u8d44\u6e90\u5e76\u63d0\u4f9b\u4e91\u539f\u751f\u5e94\u7528\u7ba1\u7406\u9762\u677f"),_.default.createElement("div",{className:K.default.initDescribe},_.default.createElement("div",{className:K.default.initDescribeItem},_.default.createElement("span",null,_.default.createElement("svg",{t:"1588068572145",className:"icon",viewBox:"0 0 1318 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4912"},_.default.createElement("path",{d:"M558.913829 880.274286H285.871543a209.700571 209.700571 0 0 1 0-419.401143h3.291428l33.28 0.512c1.901714 0.146286 13.604571 1.097143 25.6-11.995429 12.068571-13.165714 7.68-24.649143 7.68-39.424a317.001143 317.001143 0 0 1 316.854858-317.147428A315.245714 315.245714 0 0 1 885.935543 175.542857c6.363429 5.851429 5.12 5.558857 11.044571 11.995429a38.692571 38.692571 0 0 0 31.158857 16.822857 34.962286 34.962286 0 0 0 34.962286-35.108572c0-11.922286-6.582857-21.942857-14.774857-30.134857-5.851429-6.436571-4.900571-4.827429-11.190857-10.752A382.390857 382.390857 0 0 0 672.577829 22.674286a386.925714 386.925714 0 0 0-386.194286 368.201143 279.698286 279.698286 0 1 0-0.512 559.250285h273.042286a35.035429 35.035429 0 0 0 35.035428-35.035428 35.108571 35.108571 0 0 0-35.108571-34.889143z m146.285714-76.653715V366.08a17.481143 17.481143 0 0 0-17.481143-17.408H582.904686a17.481143 17.481143 0 0 0-17.481143 17.408v437.540571c0 9.654857 7.826286 17.481143 17.554286 17.481143h104.740571c9.728 0 17.554286-7.826286 17.554286-17.554285zM600.458971 716.214857a34.962286 34.962286 0 1 1 69.851429-0.073143 34.962286 34.962286 0 0 1-69.851429 0.073143z m314.514286 87.405714V366.08a17.481143 17.481143 0 0 0-17.408-17.408h-104.96a17.481143 17.481143 0 0 0-17.481143 17.408v437.540571c0 9.654857 7.826286 17.481143 17.554286 17.481143h104.886857a17.481143 17.481143 0 0 0 17.408-17.554285z m-104.813714-87.405714a34.962286 34.962286 0 1 1 69.924571 0 34.962286 34.962286 0 0 1-69.924571 0z m454.070857 26.404572L1093.076114 340.114286a17.408 17.408 0 0 0-22.893714-9.216l-96.548571 40.96a17.481143 17.481143 0 0 0-9.216 22.893714l171.154285 402.651429a17.554286 17.554286 0 0 0 22.893715 9.216l96.548571-40.96a17.334857 17.334857 0 0 0 9.216-22.966858z m-130.633143-39.350858a34.889143 34.889143 0 1 1 64.219429-27.428571 34.889143 34.889143 0 0 1-64.219429 27.428571z",fill:"#326CE5","p-id":"4913"}))," ","\u7ba1\u7406\u60a8\u7684\u516c\u6709\u4e91\u8d44\u6e90\uff0c\u5b9e\u73b0\u81ea\u52a8\u5316\u4e91\u539f\u751f\u8fd0\u7ef4"),_.default.createElement(B,{className:K.default.describe},_.default.createElement("ul",null,_.default.createElement("li",null,"\u53ef\u4f7f\u7528\u60a8\u5df2\u7ecf\u8d2d\u4e70\u7684\u865a\u62df\u673a"),_.default.createElement("li",null,"\u81ea\u52a8\u5316\u96c6\u7fa4\u6309\u9700\u521b\u5efa\uff0c\u6bcf\u5929\u4ec5\u970050\u5143\u8d44\u6e90\u8d39\u7528"),_.default.createElement("li",null,"30\u5206\u949f\u5373\u53ef\u5b8c\u6210\u5bf9\u63a5")))),_.default.createElement("div",{className:K.default.initDescribeItem},_.default.createElement("span",null,_.default.createElement("svg",{t:"1588069176883",className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5980"},_.default.createElement("path",{d:"M501.418667 30.72c-8.874667 0.682667-17.408 2.730667-25.258667 6.826667L135.168 199.338667c-17.749333 8.533333-30.72 24.576-35.157333 43.690666L17.066667 608.256c-4.096 17.066667-0.682667 35.157333 9.216 49.834667 1.024 1.706667 2.389333 3.413333 3.754666 5.12l235.52 292.522666c12.288 15.36 31.061333 24.234667 50.858667 23.893334h377.514667c19.797333 0 38.570667-9.216 50.858666-24.234667l235.178667-292.864c12.288-15.36 16.725333-35.498667 12.288-54.613333L907.946667 243.029333c-4.437333-19.114667-17.408-35.157333-35.157334-43.690666L532.48 37.205333c-9.557333-4.778667-20.48-7.168-31.061333-6.485333z",fill:"#326CE5","p-id":"5981"}),_.default.createElement("path",{d:"M504.490667 154.965333c-11.605333 0.682667-20.48 10.922667-20.138667 22.528v5.802667c0.682667 6.485333 1.365333 12.970667 2.730667 19.456 2.048 12.288 2.389333 24.576 2.048 36.864-1.024 4.096-3.413333 7.850667-6.826667 10.581333l-0.341333 8.533334c-12.288 1.024-24.576 3.072-36.864 5.802666-50.858667 11.605333-97.28 37.888-133.12 76.117334l-7.168-5.12c-4.096 1.365333-8.533333 0.682667-12.288-1.365334-9.898667-7.509333-19.114667-15.701333-27.306667-24.917333-4.096-5.12-8.533333-9.898667-13.312-14.336l-4.437333-3.754667c-4.096-3.072-8.874667-5.12-13.994667-5.461333-6.144-0.341333-12.288 2.389333-16.384 7.168-6.826667 9.557333-4.778667 23.210667 5.12 30.037333l4.096 3.072c5.461333 3.754667 10.922667 6.826667 16.725333 9.898667 10.922667 6.144 21.162667 13.312 30.378667 21.504 2.389333 3.413333 3.754667 7.509333 4.096 11.605333l6.826667 6.144c-35.84 53.930667-50.517333 119.466667-41.301334 183.637334l-8.533333 2.389333c-2.048 3.413333-5.12 6.485333-8.874667 8.874667-11.946667 3.072-24.234667 5.12-36.522666 6.144-6.485333 0-12.970667 0.682667-19.456 1.365333l-5.461334 1.365333h-0.682666c-11.264 1.706667-19.114667 11.946667-17.408 23.210667 0.682667 4.437333 2.730667 8.533333 5.802666 11.605333 5.461333 5.461333 13.653333 7.509333 20.821334 5.12h0.341333l5.461333-0.682666c6.144-1.706667 12.288-4.096 18.432-6.826667 11.605333-4.437333 23.210667-8.192 35.498667-10.24 4.096 0.341333 8.192 1.706667 11.605333 4.096l9.216-1.365333c19.797333 61.781333 61.781333 114.005333 117.418667 146.773333l-3.754667 7.509333c1.706667 3.413333 2.389333 7.509333 1.706667 11.605334-5.12 11.605333-11.264 22.869333-18.432 33.450666-4.096 5.12-7.509333 10.581333-10.922667 16.384l-2.730666 5.461334c-5.802667 9.898667-2.389333 22.186667 7.509333 27.989333 3.754667 2.048 8.192 3.072 12.288 2.730667 7.509333-1.024 14.336-5.802667 17.066667-13.312l2.389333-5.12c2.389333-6.144 4.437333-12.288 5.802667-18.432 5.461333-13.312 8.192-27.648 15.701333-36.522667 2.389333-2.389333 5.461333-3.754667 8.874667-4.437333l4.437333-8.192c60.416 23.210667 127.317333 23.552 187.733333 0.341333l4.096 7.509333c4.096 0.682667 7.850667 2.730667 10.24 6.144 5.802667 10.922667 10.24 22.528 13.994667 34.133334 1.706667 6.485333 3.754667 12.629333 5.802667 18.773333l2.389333 5.12c4.096 10.581333 15.701333 16.042667 26.282667 11.946667 4.096-1.365333 7.509333-4.437333 9.898666-7.850667 4.096-6.485333 4.437333-14.677333 0.341334-21.504l-2.730667-5.461333c-3.413333-5.461333-6.826667-10.922667-10.922667-16.384-7.168-10.24-13.312-21.162667-18.432-32.426667-1.024-4.096-0.341333-8.533333 2.048-12.288-1.365333-2.730667-2.389333-5.461333-3.413333-8.192 55.637333-33.109333 97.28-85.674667 116.736-147.456l8.533333 1.365333c3.072-2.730667 7.168-4.437333 11.264-4.096 11.946667 2.389333 23.893333 5.802667 35.498667 10.24 6.144 3.072 12.288 5.12 18.432 7.168 1.365333 0.341333 3.754667 0.682667 5.12 1.024h0.341333c10.922667 3.413333 22.186667-2.389333 25.941334-13.312 1.365333-4.096 1.365333-8.533333 0-12.970666-2.389333-7.168-8.874667-12.629333-16.725334-13.653334l-5.802666-1.365333c-6.485333-1.024-12.970667-1.365333-19.456-1.365333-12.288-0.682667-24.576-2.730667-36.522667-6.144-3.754667-2.048-6.826667-5.12-8.874667-8.874667l-8.192-2.389333c8.874667-64.170667-6.144-129.365333-42.325333-183.296l7.168-6.826667c-0.341333-4.096 1.024-8.192 3.754667-11.605333 9.216-8.192 19.456-15.018667 30.378666-21.162667 5.802667-3.072 11.605333-6.144 16.725334-9.898667l4.437333-3.754666c9.557333-5.802667 12.629333-18.432 6.485333-28.330667-2.389333-4.096-6.144-7.168-10.581333-8.533333-7.509333-2.730667-15.701333-0.682667-21.162667 4.778666l-4.437333 3.754667c-4.778667 4.437333-9.216 9.216-13.312 14.336-8.192 9.216-17.066667 17.749333-26.624 25.258667-3.754667 1.706667-8.192 2.048-12.288 1.365333l-7.850667 5.461333a267.308373 267.308373 0 0 0-169.301333-81.578666c0-3.072-0.341333-7.509333-0.341333-9.216-3.413333-2.389333-5.802667-6.144-6.826667-10.24-0.341333-12.288 0.341333-24.576 2.389333-36.864 1.365333-6.144 2.389333-12.970667 2.730667-19.456V177.493333c2.048-11.946667-6.826667-21.845333-18.773333-22.528z m-25.6 157.696l-6.144 106.837334h-0.341334c-0.341333 6.485333-4.096 12.288-10.24 15.36-5.802667 3.072-12.970667 2.389333-18.432-1.706667l-87.722666-62.122667c27.989333-27.306667 62.805333-46.421333 101.034666-54.954666 7.509333-1.365333 14.677333-2.389333 21.845334-3.413334z m51.2 0c45.738667 5.802667 88.746667 26.282667 122.197333 58.709334l-86.698667 61.781333a17.954133 17.954133 0 0 1-25.258666-3.072c-2.389333-3.072-3.754667-6.826667-3.754667-10.922667l-6.485333-106.496z m-205.482667 98.645334l80.213333 71.338666v0.341334c7.509333 6.485333 8.192 18.090667 1.365334 25.6-2.389333 2.730667-5.12 4.437333-8.533334 5.461333v0.341333l-102.741333 29.696c-5.12-46.421333 5.12-92.842667 29.696-132.778666z m359.082667 0c24.234667 39.594667 35.157333 86.016 30.72 132.096l-103.082667-29.696v-0.341334c-6.485333-1.706667-11.264-6.826667-12.629333-13.312-1.365333-6.485333 0.682667-13.312 5.802666-17.408l79.189334-71.338666zM488.106667 488.448h32.768l19.797333 25.6-7.168 31.744-29.354667 13.994667-29.354666-13.994667-6.826667-31.744 20.138667-25.6z m104.789333 86.698667h4.096l105.813333 17.749333c-15.36 44.032-45.397333 81.578667-84.992 106.837333l-40.96-99.328c-3.754667-9.216 0.341333-19.797333 9.557334-23.552 2.048-0.682667 3.754667-1.365333 6.144-1.365333l0.341333-0.341333z m-177.834667 0.682666c6.144 0 11.605333 3.072 14.677334 8.192 3.413333 5.12 3.754667 11.264 1.365333 16.725334v0.341333l-40.618667 98.304a209.988267 209.988267 0 0 1-84.309333-105.813333l105.130667-17.749334h3.754666z m88.746667 42.666667c6.826667-0.341333 13.312 3.413333 16.384 9.557333h0.341333l51.882667 93.525334-20.821333 6.144c-38.229333 8.874667-77.824 6.826667-115.029334-5.802667l51.882667-93.525333c3.072-5.461333 8.874667-8.874667 15.36-8.874667v-1.024z",fill:"#FFFFFF","p-id":"5982"})),"\u7ba1\u7406\u60a8\u7684kubernetes\u96c6\u7fa4\uff0c\u7b80\u5316kubernetes\u7684\u7ba1\u7406"),_.default.createElement(B,{className:K.default.describe},_.default.createElement("ul",null,_.default.createElement("li",null,"\u4e91\u4e0aKubernetes\u96c6\u7fa4\u81ea\u52a8\u5316\u5bf9\u63a5"),_.default.createElement("li",null,"\u79c1\u6709\u5316\u81ea\u5efaKubernetes\u96c6\u7fa4\u5bf9\u63a5\u8bf7\u8054\u7cfb\u6211\u4eec"))))),_.default.createElement("p",{style:{marginTop:"16px"}},"\u6211\u4eec\u6709\u4e13\u4e1a\u5de5\u7a0b\u5e08\u534f\u52a9\u60a8\u5bf9\u63a5\u60a8\u7684\u8ba1\u7b97\u8d44\u6e90\uff0c\u5e76\u8f85\u52a9\u60a8\u5b9e\u73b0DevOps\u6d41\u7a0b\u3001\u4f01\u4e1a\u4e2d\u53f0\u3001\u4f01\u4e1a\u5ba2\u6237\u4ea4\u4ed8\u3001\u591a\u4e91\u7ba1\u7406\u7b49\u4f53\u9a8c\u6d41\u7a0b\u3002"),_.default.createElement("p",null,"\u66f4\u591a\u5173\u4e8e Cloud\u4fe1\u606f\u8bf7\u67e5\u770b",_.default.createElement("a",{href:"https://www.rainbond.com/docs/quick-start/rainbond-cloud/",target:"_blank"},"Cloud\u4ea7\u54c1\u8bf4\u660e")),_.default.createElement("p",{style:{textAlign:"center"}},_.default.createElement(m.default,{onClick:this.hideInitShow,type:"primary"},"\u6211\u5df2\u77e5\u6653\uff0c\u5f00\u59cb\u4f53\u9a8c"))))}},k=y))||k)||k);t.default=F},Jq4M:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var r=l(a("2/Rp"));a("jCWc");var n=l(a("kPKH"));a("y8nQ");var i=l(a("Vl3Y"));a("sRBo");var d=l(a("kaz8"));a("/xke");var u=l(a("TeRw"));a("tU7J");var c,o,f,p=l(a("wFql")),m=a("MuoO"),h=s(a("q1tI")),E=l(a("AklW")),g=l(a("dBUJ")),v=l(a("aMNY")),k=p.default.Paragraph,y=(c=(0,m.connect)(),c((f=class extends h.PureComponent{constructor(e){super(e),this.initRainbondCluster=(()=>{var e=this.props,t=e.dispatch,a=e.selectClusterID,l=e.selectProvider,s=e.eid,r=this.state.checked;r?(this.setState({loading:!0}),t({type:"cloud/initRainbondRegion",payload:{enterprise_id:s,providerName:l,clusterID:a},callback:e=>{e&&this.setState({loading:!1,task:e,showInitDetail:!0})},handleError:e=>{e&&e.data&&7005==e.data.code?this.setState({loading:!1,showInitDetail:!0,showTask:e.data.data}):E.default.handleCloudAPIError(e)}})):u.default.warning("\u8bf7\u9605\u8bfb\u5e76\u540c\u610f\u6ce8\u610f\u4e8b\u9879")}),this.loadTask=(()=>{var e=this.props,t=e.dispatch,a=e.eid,l=e.selectClusterID,s=e.selectProvider,r=e.completeInit;t({type:"cloud/loadInitRainbondTask",payload:{enterprise_id:a,clusterID:l,providerName:s},callback:e=>{e&&(this.setState({task:e}),"inited"==e.status&&r&&r(e))},handleError:e=>{e&&e.data&&404==e.data.code||(E.default.handleCloudAPIError(e),this.setState({loading:!1}))}})}),this.cancelShowInitDetail=(()=>{var e=this.props.loadRuningTasks;e&&e(),this.loadTask(),this.setState({showInitDetail:!1})}),this.setChecked=(e=>{this.setState({checked:e.target.checked})}),this.state={checked:!1,loading:!1,showInitDetail:!1}}componentDidMount(){this.loadTask()}render(){var e=this.props,t=e.preStep,a=e.eid,l=e.selectProvider,s=this.state,u=s.checked,c=s.showInitDetail,o=s.loading,f=s.task;return h.default.createElement(i.default,null,h.default.createElement("h4",null,"\u6ce8\u610f\u4e8b\u9879\uff1a"),h.default.createElement(n.default,{span:24,style:{padding:"16px"}},h.default.createElement(k,{className:g.default.describe},h.default.createElement("ul",null,h.default.createElement("li",null,h.default.createElement("span",null,"\u82e5\u4f60\u9009\u62e9\u7684\u662f\u5df2\u7ecf\u5728\u4f7f\u7528\u7684Kubernetes\u96c6\u7fa4\uff0c\u4e0d\u8981\u62c5\u5fc3\uff0c\u63a5\u4e0b\u6765\u7684\u521d\u59cb\u5316\u52a8\u4f5c\u4e0d\u4f1a\u5f71\u54cd\u96c6\u7fa4\u5df2\u6709\u7684\u4e1a\u52a1\u5f62\u6001\u3002")),h.default.createElement("li",null,h.default.createElement("span",null,"Rainbond\u96c6\u7fa4\u521d\u59cb\u5316\u9700\u8981\u4ee5\u4e0b\u8d44\u6e90\uff1aRDS(1\u4e2a)\u3001NAS(1\u4e2a)\u3001SLB(1\u4e2a)\uff0c\u5e76\u5c06(80\\443\\8443\\6060\\10000-11000)\u7aef\u53e3\u6dfb\u52a0\u5230\u5b89\u5168\u7ec4\u7b56\u7565")),h.default.createElement("li",null,h.default.createElement("span",null,"\u65b0\u8d2d\u8d44\u6e90\u90fd\u5c06\u91c7\u7528\u6309\u9700\u540e\u4ed8\u8d39\u6a21\u5f0f\uff0c\u56e0\u6b64\u8bf7\u786e\u4fdd\u4f60\u7684\u963f\u91cc\u4e91\u8d26\u53f7\u80fd\u591f\u8fdb\u884c\u6309\u9700\u8d2d\u4e70\u8d44\u6e90\uff0c\u540e\u7eed\u7528\u6237\u6839\u636e\u9700\u8981\u8fdb\u884c\u4ed8\u8d39\u6a21\u5f0f\u53d8\u66f4")),h.default.createElement("li",null,h.default.createElement("span",null,"\u6211\u4eec\u5c06\u901a\u8fc7Kube API\u8fdb\u884c\u76f8\u5173\u7684\u8d44\u6e90\u521b\u5efa\u548c\u521d\u59cb\u5316\uff0c\u96c6\u7fa4\u5bf9\u63a5\u5b8c\u6210\u540e\u5373\u53ef\u5173\u95edKube API\u7684\u516c\u7f51\u8bbf\u95ee\uff08\u79fb\u9664\u7ed1\u5b9a\u7684EIP\uff09")))),h.default.createElement(i.default.Item,{name:"remember",valuePropName:"checked",noStyle:!0},h.default.createElement(d.default,{onChange:this.setChecked},"\u6211\u5df2\u9605\u8bfb\u5e76\u540c\u610f\u4e0a\u8ff0\u6ce8\u610f\u4e8b\u9879"))),f&&""!=f.taskID?h.default.createElement(n.default,{style:{textAlign:"center",marginTop:"32px"},span:24},h.default.createElement(r.default,{onClick:()=>{this.setState({showInitDetail:!0})},type:"primary"},"\u6b63\u5728\u521d\u59cb\u5316/\u786e\u8ba4\u8fdb\u5ea6")):h.default.createElement(n.default,{style:{textAlign:"center",marginTop:"32px"},span:24},h.default.createElement(r.default,{onClick:t,style:{marginRight:"16px"}},"\u4e0a\u4e00\u6b65"),h.default.createElement(r.default,{disabled:!u,loading:o,onClick:this.initRainbondCluster,type:"primary"},"\u5f00\u59cb\u521d\u59cb\u5316")),c&&h.default.createElement(v.default,{onCancel:this.cancelShowInitDetail,eid:a,providerName:l,clusterID:f.clusterID,taskID:f.taskID}))}},o=f))||o);t.default=y},LjLi:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("g9YV");var r=l(a("wCAj")),n=l(a("p0pE"));a("14J3");var i=l(a("BMrR"));a("Pwec");var d=l(a("CtXQ"));a("jCWc");var u=l(a("kPKH"));a("+L6B");var c=l(a("2/Rp"));a("tU7J");var o,f,p,m=l(a("wFql")),h=a("MuoO"),E=s(a("q1tI")),g=l(a("AklW")),v=l(a("dBUJ")),k=l(a("5ov5")),y=m.default.Paragraph,C=(o=(0,h.connect)(),o((p=class extends E.PureComponent{constructor(e){super(e),this.startInit=(()=>{var e=this.state.selectClusterID,t=this.props.startInit;t&&t(e)}),this.loadLastTask=(()=>{var e=this.props,t=e.dispatch,a=e.eid,l=e.taskID,s=e.selectProvider;t({type:"cloud/loadLastTask",payload:{enterprise_id:a,provider_name:s,taskID:l},callback:e=>{e&&this.setState({lastTask:e})},handleError:e=>{g.default.handleCloudAPIError(e)}})}),this.showTaskDetail=(()=>{this.setState({showTaskDetail:!0})}),this.cancelShowCreateDetail=(()=>{this.setState({showTaskDetail:!1})}),this.state={selectClusterName:"",selectClusterID:"",showTaskDetail:!1,lastTask:{}}}componentDidMount(){this.loadLastTask()}render(){var e=[{title:"\u540d\u79f0(ID)",dataIndex:"name",render:(e,t)=>"".concat(e,"(").concat(t.cluster_id,")")},{title:"\u533a\u57df",dataIndex:"region_id",render:e=>{return g.default.getAliyunRegionName(e)}},{title:"\u53ef\u7528\u533a",dataIndex:"zone_id"},{title:"\u7c7b\u578b",dataIndex:"cluster_type",render:e=>{return g.default.getAliyunClusterName(e)}},{title:"\u8282\u70b9\u6570\u91cf",dataIndex:"size"},{title:"\u7248\u672c",dataIndex:"current_version"},{title:"\u72b6\u6001",dataIndex:"state",render:(e,t)=>{return g.default.getAliyunClusterStatus(e,t)}}],t={onChange:(e,t)=>{t[0]&&this.setState({selectClusterID:t[0].cluster_id,selectClusterName:t[0].name})},getCheckboxProps:e=>({disabled:"ManagedKubernetes"!=e.cluster_type||"running"!=e.state||e.rainbond_init,name:e.name})},a=this.props,l=a.data,s=a.preStep,o=a.showBuyClusterConfig,f=a.eid,p=a.loadKubernetesCluster,m=this.state,h=m.selectClusterName,C=m.selectClusterID,b=m.lastTask,I=m.showTaskDetail,_=""==C;return E.default.createElement("div",null,E.default.createElement(i.default,{style:{marginBottom:"20px"}},E.default.createElement(u.default,{span:24,style:{padding:"16px"}},E.default.createElement(y,{className:v.default.describe},E.default.createElement("ul",null,E.default.createElement("li",null,E.default.createElement("span",null,"\u4e3a\u4fdd\u969c\u670d\u52a1\u8d28\u91cf\uff0c\u76ee\u524dRainbond Cloud\u4ec5\u652f\u6301\u963f\u91cc\u4e91\u6258\u7ba1\u96c6\u7fa4\u8fdb\u884c\u5bf9\u63a5")),E.default.createElement("li",null,E.default.createElement("span",null,"\u82e5\u6682\u65e0\u53ef\u7528\u96c6\u7fa4\uff0c\u53ef\u70b9\u51fb",E.default.createElement(c.default,{type:"link",onClick:o},"\u65b0\u8d2d\u4e70\u96c6\u7fa4"),"\u5feb\u901f\u8d2d\u4e70")),E.default.createElement("li",null,E.default.createElement("span",null,"\u82e5\u96c6\u7fa4\u521b\u5efa\u51fa\u73b0\u9519\u8bef\uff0c\u8bf7\u518d\u6b21\u786e\u4fdd\u4ee5\u4e0b\u670d\u52a1\u5df2\u5f00\u901a\u6216\u6388\u6743\u5df2\u6388\u4e88\u540e\u91cd\u8bd5\uff1a",g.default.getAliyunCountDescribe().map(e=>{return E.default.createElement("a",{style:{marginRight:"8px"},href:e.href,target:"_blank"},e.title)}))),E.default.createElement("li",null,E.default.createElement("span",null,"\u96c6\u7fa4\u8d2d\u4e70\u6210\u529f\u540e\u5904\u4e8e\u521d\u59cb\u5316\u4e2d\u7684\u72b6\u6001\uff0c\u963f\u91cc\u4e91\u5c06\u5b8c\u6210\u96c6\u7fa4\u521b\u5efa\uff0c\u6b63\u5e38\u60c5\u51b5\u4e0b10\u5206\u949f\u5de6\u53f3\u5373\u53ef\u521d\u59cb\u5316\u5b8c\u6210"))))),E.default.createElement(u.default,{span:12,style:{textAlign:"left"}},h&&E.default.createElement("span",null,"\u5df2\u9009\u62e9\u96c6\u7fa4: ",h,", \u8be5\u96c6\u7fa4\u7b26\u5408Rainbond\u63a5\u5165\u89c4\u5219\uff0c\u53ef\u4ee5\u5f00\u59cbRainbond\u96c6\u7fa4\u521d\u59cb\u5316"),b&&b.name&&"complete"!=b.status&&E.default.createElement("span",null,"\u6b63\u5728\u8d2d\u4e70\u96c6\u7fa4: ",b.name,",",E.default.createElement(c.default,{onClick:this.showTaskDetail,type:"link"},"\u70b9\u51fb\u67e5\u770b\u8d2d\u4e70\u8fdb\u5ea6"))),E.default.createElement(u.default,{span:12,style:{textAlign:"right"}},E.default.createElement(c.default,{type:"primary",onClick:o},"\u65b0\u8d2d\u4e70\u96c6\u7fa4"),E.default.createElement(c.default,{style:{marginLeft:"16px"},onClick:p},E.default.createElement(d.default,{type:"reload"})))),E.default.createElement(r.default,{rowSelection:(0,n.default)({type:"radio"},t),pagination:!1,columns:e,dataSource:l}),E.default.createElement(u.default,{style:{textAlign:"center",marginTop:"32px"},span:24},E.default.createElement(c.default,{onClick:s},"\u4e0a\u4e00\u6b65"),E.default.createElement(c.default,{style:{marginLeft:"16px"},type:"primary",onClick:this.startInit,disabled:_},"\u4e0b\u4e00\u6b65")),I&&b&&E.default.createElement(k.default,{onCancel:this.cancelShowCreateDetail,eid:f,taskID:b.taskID}))}},f=p))||f);t.default=C},Zw3B:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var r=l(a("bx4M"));a("+L6B");var n=l(a("2/Rp"));a("jCWc");var i=l(a("kPKH"));a("5NDa");var d=l(a("5rEg"));a("14J3");var u=l(a("BMrR"));a("bP8k");var c=l(a("gFTJ"));a("/xke");var o=l(a("TeRw")),f=l(a("p0pE"));a("y8nQ");var p,m,h,E,g=l(a("Vl3Y")),v=a("MuoO"),k=a("7DNP"),y=s(a("q1tI")),C=l(a("AklW")),b=(p=(0,v.connect)(),m=g.default.create(),p(h=m((E=class extends y.PureComponent{constructor(e){super(e),this.createClusters=(()=>{var e=this.props,t=e.dispatch,a=e.eid,l=e.form,s=this.state,r=s.configsYaml,n=s.task;l.validateFields((e,l)=>{e||(this.setState({commitloading:!0}),t({type:"region/createEnterpriseCluster",payload:(0,f.default)({},l,{enterprise_id:a,desc:"\u6765\u6e90\u4e8e\u963f\u91cc\u4e91\u6258\u7ba1\u96c6\u7fa4\u81ea\u52a8\u5bf9\u63a5",token:r,region_type:["custom"]}),callback:e=>{e&&200===e._condition&&(o.default.success({message:"\u6dfb\u52a0\u6210\u529f"}),t({type:"cloud/updateInitTaskStatus",payload:{enterprise_id:a,taskID:n.taskID,status:"complete"},callback:e=>{t(k.routerRedux.push("/enterprise/".concat(a,"/clusters")))},handleError:e=>{C.default.handleCloudAPIError(e),this.setState({commitloading:!1})}}))},handleError:()=>{this.setState({commitloading:!1})}}))})}),this.loadRegionConfig=(()=>{var e=this.props,t=e.dispatch,a=e.eid,l=e.selectClusterID,s=e.selectProvider;t({type:"cloud/loadRegionConfig",payload:{enterprise_id:a,clusterID:l,providerName:s},callback:e=>{e&&this.setState({configs:e.configs,configsYaml:e.configs_yaml,loading:!1})},handleError:e=>{C.default.handleCloudAPIError(e),this.setState({loading:!1})}})}),this.loadTask=(()=>{var e=this.props,t=e.dispatch,a=e.eid,l=e.selectClusterID,s=e.selectProvider;t({type:"cloud/loadInitRainbondTask",payload:{enterprise_id:a,clusterID:l,providerName:s},callback:e=>{e&&(this.setState({task:e}),"inited"==e.status&&this.loadRegionConfig())},handleError:e=>{C.default.handleCloudAPIError(e),this.setState({loading:!1})}})}),this.state={checked:!1,loading:!0,showInitDetail:!1,configs:{},task:{}}}componentDidMount(){this.loadTask()}render(){var e=this.state,t=e.configs,a=e.loading,l=e.commitloading,s=this.props.form.getFieldDecorator;return y.default.createElement(g.default,null,y.default.createElement(r.default,{loading:a,bordered:!1,style:{padding:"0 16px"}},y.default.createElement(u.default,null,y.default.createElement(c.default,null,y.default.createElement(c.default.Item,{label:"API\u901a\u4fe1\u5730\u5740"},t.apiAddress))),y.default.createElement(u.default,{style:{marginTop:"32px"}},y.default.createElement("h4",null,"\u96c6\u7fa4\u8bbe\u7f6e")),y.default.createElement(u.default,null,y.default.createElement(i.default,{span:6,style:{paddingRight:"16px"}},y.default.createElement(g.default.Item,{label:"\u96c6\u7fa4ID"},s("region_name",{initialValue:"",rules:[{required:!0,message:"\u8bf7\u586b\u5199\u8fa8\u8bc6\u5ea6\u9ad8\u7684\u96c6\u7fa4ID\uff0c\u4e0d\u53ef\u4fee\u6539"},{pattern:/^[a-z0-9A-Z-_]+$/,message:"\u53ea\u652f\u6301\u5b57\u6bcd\u3001\u6570\u5b57\u548c-_\u7ec4\u5408"}]})(y.default.createElement(d.default,{placeholder:"\u8bf7\u586b\u5199\u96c6\u7fa4ID\uff0c\u6dfb\u52a0\u540e\u4e0d\u53ef\u4fee\u6539"})))),y.default.createElement(i.default,{span:6},y.default.createElement(g.default.Item,{label:"\u96c6\u7fa4\u540d\u79f0"},s("region_alias",{initialValue:"\u963f\u91cc\u4e91\u6258\u7ba1\u96c6\u7fa4",rules:[{required:!0,message:"\u8bf7\u586b\u5199\u96c6\u7fa4\u540d\u79f0!"}]})(y.default.createElement(d.default,{placeholder:"\u8bf7\u586b\u5199\u96c6\u7fa4\u540d\u79f0"}))))),y.default.createElement(u.default,null,y.default.createElement(i.default,{style:{textAlign:"center",marginTop:"32px"},span:24},y.default.createElement(n.default,{loading:l,onClick:this.createClusters,type:"primary"},"\u5bf9\u63a5")))))}},h=E))||h)||h);t.default=b},aMNY:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var r=l(a("kLXV"));a("14J3");var n=l(a("BMrR"));a("RC8p");var i=l(a("rgW5"));a("fOrg");var d=l(a("+KLJ"));a("+L6B");var u,c,o,f=l(a("2/Rp")),p=a("MuoO"),m=s(a("q1tI")),h=l(a("AklW")),E=l(a("e6Ls")),g=l(a("w58A")),v=(u=(0,p.connect)(),u((o=class extends m.PureComponent{constructor(e){super(e),this.loadTask=(()=>{var e=this.props,t=e.dispatch,a=e.eid,l=e.clusterID,s=e.providerName;t({type:"cloud/loadInitRainbondTask",payload:{enterprise_id:a,clusterID:l,providerName:s},callback:e=>{e&&this.setState({task:e,complete:"complete"==e.status})},handleError:e=>{h.default.handleCloudAPIError(e),this.setState({loading:!1})}})}),this.loadTaskEvents=(()=>{var e=this.props,t=e.dispatch,a=e.eid,l=e.taskID;t({type:"cloud/loadTaskEvents",payload:{enterprise_id:a,taskID:l},callback:e=>{if(e){var t=h.default.showInitRainbondSteps(e.events),a=t.complete,l=t.steps;this.setState({complete:a,loading:!1,steps:l}),null==this.interval&&(this.interval=setInterval(()=>this.loadTaskEvents(),4e3)),a&&null!=this.interval&&(clearInterval(this.interval),this.interval=null)}},handleError:e=>{h.default.handleCloudAPIError(e),this.setState({loading:!1})}})}),this.state={loading:!0,complete:!1,steps:[]}}componentDidMount(){this.loadTask(),this.loadTaskEvents()}componentWillUnmount(){clearInterval(this.interval),this.interval=null}render(){var e=this.props,t=e.onCancel,a=e.title,l=this.state,s=l.steps,u=l.loading,c=l.complete,o="\u8fdb\u884c\u4e2d";return c&&(o=!1),m.default.createElement(r.default,{title:a||"Rainbond\u96c6\u7fa4\u521d\u59cb\u5316\u8fdb\u5ea6\u67e5\u8be2",visible:!0,maskClosable:!1,width:600,onCancel:t,className:E.default.TelescopicModal,footer:[m.default.createElement(f.default,{type:"primary",onClick:t},"\u5173\u95ed")]},m.default.createElement(n.default,{loading:u,className:g.default.box},m.default.createElement(d.default,{style:{marginBottom:"16px"},message:"\u521d\u59cb\u5316\u6d41\u7a0b\u9884\u8ba1\u8017\u65f620\u5206\u949f\uff0c\u8bf7\u8010\u5fc3\u7b49\u5f85\uff0c\u82e5\u9047\u5230\u9519\u8bef\u8bf7\u4e0e\u5ba2\u670d\u8054\u7cfb",type:"info",showIcon:!0}),m.default.createElement(i.default,{loading:u,pending:o},s.map((e,t)=>{return m.default.createElement(i.default.Item,{color:e.Color,key:"step".concat(t)},m.default.createElement("h4",null,e.Title),m.default.createElement("p",null,e.Description),m.default.createElement("p",null,e.Message))})),c&&m.default.createElement("span",null,"\u5df2\u7ed3\u675f")))}},c=o))||c),k=v;t.default=k},dBUJ:function(e,t,a){e.exports={icon:"icon___Ui8rU",iconm:"iconm___3bCCu",describe:"describe___1lN0j"}},nfvM:function(e,t,a){e.exports={icon:"icon___14fiC",iconm:"iconm___1EpSz",import:"import___1oF_y",importicon:"importicon___3k-FZ",importDesc:"importDesc___1Ra8i",provider:"provider___rOvOw",providerActive:"providerActive___3ToCd",providericon:"providericon___2Gf-J",providerDesc:"providerDesc___1ThEV",providerChecked:"providerChecked___1sdfZ",disable:"disable___1AiPb",noCluster:"noCluster___2k16e",describe:"describe___uPL4n",initTitle:"initTitle___1j10G",initModal:"initModal___XS-LF",initDescribe:"initDescribe___WzpVG",initDescribeItem:"initDescribeItem___243Ez"}},sQyZ:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var r=l(a("2/Rp"));a("giR+");var n=l(a("fyUT"));a("5NDa");var i=l(a("5rEg"));a("jCWc");var d=l(a("kPKH")),u=l(a("p0pE"));a("y8nQ");var c=l(a("Vl3Y"));a("OaEy");var o=l(a("2fM7"));a("2qtc");var f=l(a("kLXV"));a("tU7J");var p,m,h,E,g=l(a("wFql")),v=a("MuoO"),k=s(a("q1tI")),y=l(a("AklW")),C=l(a("q76B")),b=l(a("5ov5")),I=l(a("dBUJ")),_=g.default.Paragraph,w=(f.default.confirm,o.default.Option),S=(p=c.default.create(),m=(0,v.connect)(),p(h=m((E=class extends k.PureComponent{constructor(e){super(e),this.createCluster=(()=>{var e=this.props,t=e.form,a=e.dispatch,l=e.eid,s=e.selectProvider;t.validateFields((e,t)=>{e?console.log(e):(this.setState({loading:!0}),a({type:"cloud/createKubernetesCluster",payload:(0,u.default)({enterprise_id:l,provider_name:s},t),callback:e=>{e&&this.setState({loading:!1,showTask:e},()=>{this.showCreateDetail()})},handleError:e=>{e&&e.data&&7005==e.data.code?this.setState({loading:!1,lastCreateTaskShow:!0,showTask:e.data.data}):(y.default.handleCloudAPIError(e),this.setState({loading:!1}))}}))})}),this.onCancelShowLastTask=(()=>{this.setState({lastCreateTaskShow:!1})}),this.changeWorkerType=(e=>{""==e&&this.setState({customResource:!0})}),this.showCreateDetail=(()=>{this.setState({lastCreateTaskShow:!1,showTaskDetail:!0})}),this.cancelShowCreateDetail=(()=>{this.setState({showTaskDetail:!1});var e=this.props.showClusters;e()}),this.state={customResource:!1,showTaskDetail:!1,lastCreateTaskShow:!1,showTask:{},loading:!1}}render(){var e=this.props,t=e.showClusters,a=e.eid,l=this.props.form.getFieldDecorator,s=this.state,u=s.customResource,f=s.loading,p=s.lastCreateTaskShow,m=s.showTaskDetail,h=s.showTask;return k.default.createElement("div",null,k.default.createElement(c.default,null,k.default.createElement(d.default,{span:24,style:{padding:"16px"}},k.default.createElement(_,{className:I.default.describe},k.default.createElement("ul",null,k.default.createElement("li",null,k.default.createElement("span",null,"\u59d4\u6258\u8d2d\u4e70\u65f6\u5c06\u8d2d\u4e70\u4ee5\u4e0b\u8d44\u6e90\uff1a\u6807\u51c6\u6258\u7ba1\u96c6\u7fa4(1\u4e2a)\u3001VPC(1\u4e2a)")),k.default.createElement("li",null,k.default.createElement("span",null,"\u65b0\u8d2d\u96c6\u7fa4\u90fd\u5c06\u91c7\u7528\u6309\u9700\u540e\u4ed8\u8d39\u6a21\u5f0f\uff0c\u56e0\u6b64\u8bf7\u786e\u4fdd\u4f60\u7684\u963f\u91cc\u4e91\u8d26\u53f7\u80fd\u591f\u8fdb\u884c\u6309\u9700\u8d2d\u4e70\u8d44\u6e90")),k.default.createElement("li",null,k.default.createElement("span",null,"\u8d2d\u4e70\u7684Kubernetes\u5c06\u5f00\u542fEIP,\u901a\u8fc7\u516c\u7f51\u8bbf\u95eeKubeApiserver, \u96c6\u7fa4\u5bf9\u63a5\u5b8c\u6bd5\u540e\u53ef\u4ee5\u624b\u5de5\u5173\u95ed\u96c6\u7fa4\u7684\u5916\u7f51\u8bbf\u95eeEIP")),k.default.createElement("li",null,k.default.createElement("span",null,"\u9ed8\u8ba4\u91c7\u7528\u63a8\u8350\u7684\u8d44\u6e90\u7c7b\u578b\u914d\u7f6e\uff0c\u82e5\u4e0d\u7b26\u5408\u4f60\u7684\u9884\u671f\uff0c\u4f60\u53ef\u76f4\u63a5\u524d\u5f80\u963f\u91cc\u4e91\u63a7\u5236\u53f0\u81ea\u5b9a\u4e49\u8d2d\u4e70\u6258\u7ba1\u96c6\u7fa4\uff0c\u7136\u540e\u8fd4\u56de\u5230\u96c6\u7fa4\u5217\u8868\u9009\u62e9\u540e\u5f00\u59cb\u521d\u59cb\u5316")),k.default.createElement("li",null,k.default.createElement("span",null,"\u8d2d\u4e70\u96c6\u7fa4\u7684\u6210\u529f\u6027\u548c\u8017\u65f6\u53d6\u51b3\u4e8e\u963f\u91cc\u4e91\u7684\u5b9e\u9645\u72b6\u6001\uff0c\u6b63\u5e38\u60c5\u51b5\u4e0b\u9884\u8ba110\u5206\u949f\u53ef\u4ee5\u5b8c\u6210\u96c6\u7fa4\u8d2d\u4e70")),u&&k.default.createElement("li",null,k.default.createElement("span",null,"\u81ea\u5b9a\u4e49\u8d44\u6e90\u89c4\u683c\u65f6\u8bf7\u53c2\u8003"," ",k.default.createElement("a",{target:"_blank",href:"https://ecs-buy.aliyun.com/instanceTypes"},"\u963f\u91cc\u4e91ECS\u89c4\u683c\u8bf4\u660e\u6587\u6863")," ","\u83b7\u53d6\u8d44\u6e90\u89c4\u683cID"))))),k.default.createElement(d.default,{span:6,style:{padding:"16px"}},k.default.createElement(c.default.Item,{label:"\u533a\u57df"},l("region",{initialValue:"cn-hangzhou",rules:[{required:!0,message:"\u96c6\u7fa4\u521b\u5efa\u533a\u57df\u5fc5\u9009"}]})(k.default.createElement(o.default,{placeholder:"\u533a\u57df"},y.default.getAllAliyunRegions().map(e=>{return k.default.createElement(w,{key:e.RegionId,value:e.RegionId},e.LocalName)}))))),k.default.createElement(d.default,{span:6,style:{padding:"16px"}},k.default.createElement(c.default.Item,{label:"\u540d\u79f0"},l("name",{initialValue:"",rules:[{required:!0,message:"\u96c6\u7fa4\u540d\u79f0\u5fc5\u586b"},{pattern:/^[a-z0-9A-Z-]+$/,message:"\u53ea\u652f\u6301\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u4e2d\u5212\u7ebf\u7ec4\u5408"}]})(k.default.createElement(i.default,{placeholder:"\u96c6\u7fa4\u540d\u79f0,\u8bf7\u786e\u4fdd\u5176\u4fdd\u6301\u552f\u4e00"})))),k.default.createElement(d.default,{span:8,style:{padding:"16px"}},!u&&k.default.createElement(c.default.Item,{label:"\u8d44\u6e90\u914d\u7f6e"},l("resourceType",{initialValue:"ecs.g5.xlarge",rules:[{required:!0,message:"\u8d44\u6e90\u914d\u7f6e\u5fc5\u987b\u6307\u5b9a"}]})(k.default.createElement(o.default,{onChange:this.changeWorkerType,placeholder:"\u96c6\u7fa4\u540d\u79f0"},k.default.createElement(w,{value:"ecs.g5.large"},"\u6700\u5c0f\u914d\u7f6e\uff08\u5355\u8282\u70b92Core/8GB RAM, \u6309\u9700\u9884\u8ba12\u5143/\u5c0f\u65f6\uff09"),k.default.createElement(w,{value:"ecs.g5.xlarge"},"\u666e\u901a\u914d\u7f6e\uff08\u5355\u8282\u70b94Core/16GB RAM, \u6309\u9700\u9884\u8ba14\u5143/\u5c0f\u65f6\uff09"),k.default.createElement(w,{value:"ecs.g5.2xlarge"},"\u751f\u4ea7\u914d\u7f6e\uff08\u5355\u8282\u70b98Core/32GB RAM, \u6309\u9700\u9884\u8ba18\u5143/\u5c0f\u65f6\uff09"),k.default.createElement(w,{value:""},"\u81ea\u5b9a\u4e49")))),u&&k.default.createElement(c.default.Item,{label:"\u8d44\u6e90\u914d\u7f6e"},l("resourceType",{initialValue:"",rules:[{required:!0,message:"\u8d44\u6e90\u914d\u7f6e\u5fc5\u987b\u6307\u5b9a"},{pattern:/^[a-z0-9A-Z.]+$/,message:"\u8bf7\u786e\u5b9a\u8d44\u6e90\u914d\u7f6e\u89c4\u683c\u662f\u5426\u5408\u6cd5"}]})(k.default.createElement(i.default,{placeholder:"\u963f\u91cc\u4e91ECS\u89c4\u683c"})))),k.default.createElement(d.default,{span:4,style:{padding:"16px"}},k.default.createElement(c.default.Item,{label:"\u8282\u70b9\u6570\u91cf"},l("workerNum",{initialValue:2,rules:[{required:!0,message:"\u8282\u70b9\u6570\u91cf\u5fc5\u987b\u6307\u5b9a"}]})(k.default.createElement(n.default,{style:{width:"100%"},min:2,placeholder:"\u8282\u70b9\u6570\u91cf"})))),k.default.createElement(d.default,{style:{textAlign:"center",marginTop:"32px"},span:24},k.default.createElement(r.default,{onClick:t,style:{marginRight:"16px"}},"\u8fd4\u56de"),k.default.createElement(r.default,{onClick:this.createCluster,loading:f,type:"primary"},"\u5f00\u59cb\u8d2d\u4e70"))),p&&k.default.createElement(C.default,{title:"\u65b0\u7684\u96c6\u7fa4\u4e0d\u80fd\u5f00\u59cb\u8d2d\u4e70",desc:"\u5728\u5f53\u524d\u63d0\u4f9b\u5546\u4f60\u4e0a\u4e00\u6b21\u8d2d\u4e70\u4efb\u52a1\u8fd8\u6ca1\u5b8c\u6210\uff0c\u662f\u5426\u8fdb\u5165\u67e5\u770b\u8be6\u60c5",onCancel:this.onCancelShowLastTask,onOk:this.showCreateDetail}),m&&h&&k.default.createElement(b.default,{onCancel:this.cancelShowCreateDetail,eid:a,taskID:h.taskID}))}},h=E))||h)||h);t.default=S},sYrh:function(e,t,a){"use strict";var l=a("g09b"),s=a("tAuX");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("2qtc");var r=l(a("kLXV"));a("jCWc");var n=l(a("kPKH")),i=l(a("jehZ"));a("5NDa");var d=l(a("5rEg")),u=l(a("p0pE"));a("/xke");var c=l(a("TeRw"));a("y8nQ");var o,f,p,m=l(a("Vl3Y")),h=s(a("q1tI")),E=a("MuoO"),g=l(a("ZNrE")),v=l(a("e6Ls")),k=m.default.Item,y=(o=(0,E.connect)(),o((p=class extends h.PureComponent{constructor(){super(...arguments),this.handleSubmit=(()=>{var e=this.props.form,t=e.validateFields;t((e,t)=>{e||this.createClusters(t)})}),this.beforeUpload=((e,t)=>{var a=e.name.split("."),l=a.length,s="yaml"===a[l-1]||"yml"===a[l-1];return!!s||(t&&c.default.warning({message:"\u8bf7\u4e0a\u4f20\u4ee5.yaml\u3001.yml\u7ed3\u5c3e\u7684 Region Config \u6587\u4ef6"}),!1)}),this.checkConfigFile=((e,t,a)=>{if(t){if(!t.file.name.endsWith(".yaml")&&!t.file.name.endsWith(".yml"))return void a("\u8bf7\u4e0a\u4f20\u4ee5yaml\u3001yml\u7ed3\u5c3e\u7684 Region Config \u6587\u4ef6");if(t.fileList.length>0){var l=t.fileList.splice(-1);return this.readFileContents(l,"token"),void a()}a("\u4e0a\u4f20\u7684 Region Config \u6587\u4ef6\u975e\u6cd5")}else a()}),this.createClusters=(e=>{var t=this.props.onOk,a=this.props,l=a.dispatch,s=a.eid;l({type:"region/createEnterpriseCluster",payload:(0,u.default)({},e,{region_type:["custom"],enterprise_id:s}),callback:e=>{e&&200===e._condition&&(c.default.success({message:"\u6dfb\u52a0\u6210\u529f"}),t&&t())}})})}render(){var e=this.props,t=e.form,a=e.onCancel,l=t.getFieldDecorator,s=t.setFieldsValue,u={labelCol:{xs:{span:24}},wrapperCol:{xs:{span:24}}};return h.default.createElement(r.default,{visible:!0,title:"\u6dfb\u52a0\u96c6\u7fa4",className:v.default.TelescopicModal,onOk:this.handleSubmit,width:800,onCancel:a},h.default.createElement(m.default,{labelAlign:"left",onSubmit:this.handleSubmit},h.default.createElement(n.default,{style:{display:"flex"}},h.default.createElement(k,(0,i.default)({},u,{label:"\u96c6\u7fa4ID",style:{width:"50%",padding:"0 16px"}}),l("region_name",{initialValue:"",rules:[{required:!0,message:"\u96c6\u7fa4ID\u662f\u5fc5\u586b\u9879\uff0c\u4e0d\u53ef\u4fee\u6539"},{pattern:/^[a-z0-9A-Z-_]+$/,message:"\u53ea\u652f\u6301\u5b57\u6bcd\u3001\u6570\u5b57\u548c-_\u7ec4\u5408"}]})(h.default.createElement(d.default,{placeholder:"\u8bf7\u586b\u5199\u96c6\u7fa4ID\uff0c\u6dfb\u52a0\u540e\u4e0d\u53ef\u4fee\u6539"}))),h.default.createElement(k,(0,i.default)({},u,{label:"\u96c6\u7fa4\u540d\u79f0",style:{width:"50%",padding:"0 16px"}}),l("region_alias",{initialValue:"",rules:[{required:!0,message:"\u8bf7\u586b\u5199\u96c6\u7fa4\u540d\u79f0!"}]})(h.default.createElement(d.default,{placeholder:"\u8bf7\u586b\u5199\u96c6\u7fa4\u540d\u79f0"})))),h.default.createElement(n.default,{style:{display:"flex"}},h.default.createElement(k,(0,i.default)({},u,{label:"\u5907\u6ce8",style:{width:"100%",padding:"0 16px"}}),l("desc",{initialValue:""})(h.default.createElement(d.default,{placeholder:"\u5907\u6ce8\u4fe1\u606f"})))),h.default.createElement(g.default,{titles:"Region-Config \u6587\u4ef6\u5185\u5bb9\u53ef\u901a\u8fc7\u6267\u884c`grctl config`\u547d\u4ee4\u83b7\u5f97",setFieldsValue:s,formItemLayout:u,Form:m.default,getFieldDecorator:l,beforeUpload:this.beforeUpload,mode:"yaml",name:"token",label:"Region Config",message:"Region Config\u662f\u5fc5\u987b\u7684",width:"752px"})))}},f=p))||f),C=m.default.create()(y),b=C;t.default=b},w58A:function(e,t,a){e.exports={icon:"icon___3Y73l",iconm:"iconm___OoL9a",box:"box___102SU"}}}]);